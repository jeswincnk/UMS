{% extends 'adminpanel/base.html' %}
{% block content %}
<div class="page-header">
  <h1 class="page-title">
    <i class="fas fa-{% if program %}edit{% else %}plus{% endif %}"></i>
    {% if program %}Edit Program{% else %}Add Program{% endif %}
  </h1>
  <p class="page-subtitle">
    {% if program %}Update program details{% else %}Create a new academic program{% endif %}
  </p>
</div>

<div class="row">
  <div class="col-lg-8">
    <div class="card">
      <div class="card-header">
        <i class="fas fa-graduation-cap"></i>Program Details
      </div>
      <div class="card-body">
        <form method="post">
          {% csrf_token %}
          
          <div class="mb-3">
            <label for="name" class="form-label">Program Name <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="name" name="name" 
                   value="{{ program.name|default:'' }}" required
                   placeholder="e.g., Bachelor of Computer Science">
          </div>
          
          <div class="mb-3">
            <label for="department" class="form-label">Department <span class="text-danger">*</span></label>
            <select class="form-select" id="department" name="department" required>
              <option value="">Select Department</option>
              {% for dept in departments %}
                <option value="{{ dept.pk }}" {% if program.department_id == dept.pk %}selected{% endif %}>
                  {{ dept.name }}
                </option>
              {% endfor %}
            </select>
          </div>
          
          <div class="mb-3">
            <label for="duration_years" class="form-label">Duration (Years) <span class="text-danger">*</span></label>
            <select class="form-select" id="duration_years" name="duration_years" required>
              <option value="2" {% if program.duration_years == 2 %}selected{% endif %}>2 Years (4 Semesters)</option>
              <option value="3" {% if program.duration_years == 3 %}selected{% endif %}>3 Years (6 Semesters)</option>
              <option value="4" {% if program.duration_years == 4 or not program %}selected{% endif %}>4 Years (8 Semesters)</option>
              <option value="5" {% if program.duration_years == 5 %}selected{% endif %}>5 Years (10 Semesters)</option>
            </select>
          </div>
          
          <div class="d-flex gap-2">
            <button type="submit" class="btn btn-royal">
              <i class="fas fa-save me-2"></i>{% if program %}Update{% else %}Create{% endif %} Program
            </button>
            <a href="{% url 'adminpanel:programs' %}" class="btn btn-outline-secondary">
              <i class="fas fa-times me-2"></i>Cancel
            </a>
          </div>
        </form>
      </div>
    </div>
  </div>
  
  <div class="col-lg-4">
    <div class="card">
      <div class="card-header">
        <i class="fas fa-info-circle"></i>Information
      </div>
      <div class="card-body">
        <p class="mb-3">
          <strong>After creating a program:</strong>
        </p>
        <ol class="mb-3">
          <li>Go to the program detail page</li>
          <li>Add courses to each semester</li>
          <li>Mark elective courses if applicable</li>
        </ol>
        <p class="mb-0 text-muted">
          <i class="fas fa-lightbulb me-1"></i>
          Semester subjects are used for attendance tracking and exam management.
        </p>
      </div>
    </div>
  </div>
</div>
{% endblock %}
